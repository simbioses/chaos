# chaos
Collaborative Health Adherence Optimization in Sociotechnical Systems

# Prescription model

A **Prescription** is identified by a unique id. It has a start time (which is an absolute time point) and it is bounded either by a *duration* or a *quantity* (of total actions to be administered).

A prescription has a **TimeFrame** which refers to a nominal time unit **NominalTU** (weeks, months, etc.) and specifies an *every* and *total* attribute. Example: ``P1: take action every 2nd day for 10 days``. Here the *every* attribute is 2, the total is 10 and the NominalTU is *Day*.

A **TimeFrame** has an instruction that is either another TimeFrame or an **Action**. In the above example of ``P1``, the timeframe as an action as an instruction. Here is an example for a prescription, where the top level TimeFrame has an instruction that is a TimeFrame: ``P2: take action every second hour of every second day for 10 days``. Here the toplevel time frame (every second day) has an instruction that is a time frame (every second hour), which then points to an action. 

Prescriptions can also have **Restrictions**. Restrictions also refer to a Nominal Time Unit.
* **Min** and **Max** restrictions restrict the maximum or minumum actions that should be taken during any specified time unit.
* **Together**  restrictions require that subsequent prescribed actions need to be taken no longer than *value* time units apart. 
* **Apart**  restrictions require that subsequent prescribed actions need to be taken at least *value* time units apart. 
* **With** / **WithOut** restrictions require that each prescribed action needs to be taken with / without to another specified action in the specified time unit
* **after** require that each prescribed action needs to be taken at most *value* time units after the most recent other  specified action

[![](https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5cbiAgTm9taW5hbFRVIDx8LS0gRGF5XG4gIE5vbWluYWxUVSA8fC0tIFdlZWtcbiAgTm9taW5hbFRVIDx8LS0gTmlnaHRcbiAgTm9taW5hbFRVIDx8LS0gTW9ybmluZ1xuICBOb21pbmFsVFUgPHwtLSBBZnRlcm5vb25cbiAgTm9taW5hbFRVIDx8LS0gSG91clxuICBOb21pbmFsVFUgPHwtLSBNaW51dGVcbiAgTm9taW5hbFRVIDx8LS0gTW9udGhcblxuICBURl9vcl9BY3Rpb24gPHwtLSBUaW1lRnJhbWVcbiAgVEZfb3JfQWN0aW9uIDx8LS0gQWN0aW9uXG5cbiAgUmVzdHJpY3Rpb24gPHwtLSBNYXhcbiAgUmVzdHJpY3Rpb24gPHwtLSBNaW5cbiAgUmVzdHJpY3Rpb24gPHwtLSBBcGFydFxuICBSZXN0cmljdGlvbiA8fC0tIFRvZ2V0aGVyXG4gIFJlc3RyaWN0aW9uIDx8LS0gV2l0aFxuICBSZXN0cmljdGlvbiA8fC0tIFdpdGhvdXRcbiAgUmVzdHJpY3Rpb24gPHwtLSBBZnRlclxuXG4gIGNsYXNzIEFic29sdXRlVFB7XG4gIHRpbWUgOiBpbnRcbiAgfVxuICBcbiAgY2xhc3MgUmVzdHJpY3Rpb24ge1xuICB2YWx1ZSA6IGludFxuICB9XG5cbldpdGggLS0-IEFjdGlvblxuV2l0aG91dCAtLT4gQWN0aW9uXG5CZWZvcmUgLS0-IEFjdGlvblxuQWZ0ZXIgLS0-IEFjdGlvblxuXG5QcmVzY3JpcHRpb24gLS0-IEFic29sdXRlVFAgOiBzdGFydFxuXG5QcmVzY3JpcHRpb24gLS0-IFRpbWVGcmFtZSA6IGZyYW1lXG5QcmVzY3JpcHRpb24gLS0-IE5vbWluYWxUVSA6IGR1cmF0aW9uVW5pdFxuUHJlc2NyaXB0aW9uIC0tPiBcIipcIiBSZXN0cmljdGlvbiA6IHJlc3RyaWN0aW9uc1xuUmVzdHJpY3Rpb24gLS0-IE5vbWluYWxUVSA6IGZyYW1lXG5cblxuVGltZUZyYW1lIC0tPiBOb21pbmFsVFUgOiB1bml0XG5UaW1lRnJhbWUgLS0-IFRGX29yX0FjdGlvbiA6IGluc3RydWN0aW9uXG5cblx0Y2xhc3MgUHJlc2NyaXB0aW9ue1xuICAgIGlkIDogVG9rZW5cbiAgICBkdXJhdGlvbiA6IGludFxuICAgIHF1YW50aXR5IDogaW50XG5cdH1cblx0Y2xhc3MgQWN0aW9uIHtcblx0fVxuXG4gIGNsYXNzIFJlc3RyaWN0aW9uIHtcbiAgfVxuXG4gIGNsYXNzIFJlc3RyaWN0aW9uIHtcbiAgfVxuXG4gIGNsYXNzIFRGX29yX0FjdGlvbiB7XG4gIH1cblxuXHRjbGFzcyBOb21pbmFsVFV7XG5cdH1cblxuICBcdGNsYXNzIERheXtcblx0fVxuXG4gICAgY2xhc3MgTW9ybmluZ3tcblx0fVxuICAgIFx0Y2xhc3MgQWZ0ZXJub29ue1xuXHR9XG5cbiAgXHRjbGFzcyBOaWdodHtcblx0fVxuXG4gIGNsYXNzIEhvdXJ7XG5cdH1cblxuICBjbGFzcyBXZWVre1xuXHR9XG5cbiAgY2xhc3MgVGltZUZyYW1lIHtcbiAgZXZlcnk6IGludFxuICB0b3RhbCA6IGludFxuICB9XG5cdFx0XHRcdFx0IiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0)](https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5cbiAgTm9taW5hbFRVIDx8LS0gRGF5XG4gIE5vbWluYWxUVSA8fC0tIFdlZWtcbiAgTm9taW5hbFRVIDx8LS0gTmlnaHRcbiAgTm9taW5hbFRVIDx8LS0gTW9ybmluZ1xuICBOb21pbmFsVFUgPHwtLSBBZnRlcm5vb25cbiAgTm9taW5hbFRVIDx8LS0gSG91clxuICBOb21pbmFsVFUgPHwtLSBNaW51dGVcbiAgTm9taW5hbFRVIDx8LS0gTW9udGhcblxuICBURl9vcl9BY3Rpb24gPHwtLSBUaW1lRnJhbWVcbiAgVEZfb3JfQWN0aW9uIDx8LS0gQWN0aW9uXG5cbiAgUmVzdHJpY3Rpb24gPHwtLSBNYXhcbiAgUmVzdHJpY3Rpb24gPHwtLSBNaW5cbiAgUmVzdHJpY3Rpb24gPHwtLSBBcGFydFxuICBSZXN0cmljdGlvbiA8fC0tIFRvZ2V0aGVyXG4gIFJlc3RyaWN0aW9uIDx8LS0gV2l0aFxuICBSZXN0cmljdGlvbiA8fC0tIFdpdGhvdXRcbiAgUmVzdHJpY3Rpb24gPHwtLSBBZnRlclxuXG4gIGNsYXNzIEFic29sdXRlVFB7XG4gIHRpbWUgOiBpbnRcbiAgfVxuICBcbiAgY2xhc3MgUmVzdHJpY3Rpb24ge1xuICB2YWx1ZSA6IGludFxuICB9XG5cbldpdGggLS0-IEFjdGlvblxuV2l0aG91dCAtLT4gQWN0aW9uXG5CZWZvcmUgLS0-IEFjdGlvblxuQWZ0ZXIgLS0-IEFjdGlvblxuXG5QcmVzY3JpcHRpb24gLS0-IEFic29sdXRlVFAgOiBzdGFydFxuXG5QcmVzY3JpcHRpb24gLS0-IFRpbWVGcmFtZSA6IGZyYW1lXG5QcmVzY3JpcHRpb24gLS0-IE5vbWluYWxUVSA6IGR1cmF0aW9uVW5pdFxuUHJlc2NyaXB0aW9uIC0tPiBcIipcIiBSZXN0cmljdGlvbiA6IHJlc3RyaWN0aW9uc1xuUmVzdHJpY3Rpb24gLS0-IE5vbWluYWxUVSA6IGZyYW1lXG5cblxuVGltZUZyYW1lIC0tPiBOb21pbmFsVFUgOiB1bml0XG5UaW1lRnJhbWUgLS0-IFRGX29yX0FjdGlvbiA6IGluc3RydWN0aW9uXG5cblx0Y2xhc3MgUHJlc2NyaXB0aW9ue1xuICAgIGlkIDogVG9rZW5cbiAgICBkdXJhdGlvbiA6IGludFxuICAgIHF1YW50aXR5IDogaW50XG5cdH1cblx0Y2xhc3MgQWN0aW9uIHtcblx0fVxuXG4gIGNsYXNzIFJlc3RyaWN0aW9uIHtcbiAgfVxuXG4gIGNsYXNzIFJlc3RyaWN0aW9uIHtcbiAgfVxuXG4gIGNsYXNzIFRGX29yX0FjdGlvbiB7XG4gIH1cblxuXHRjbGFzcyBOb21pbmFsVFV7XG5cdH1cblxuICBcdGNsYXNzIERheXtcblx0fVxuXG4gICAgY2xhc3MgTW9ybmluZ3tcblx0fVxuICAgIFx0Y2xhc3MgQWZ0ZXJub29ue1xuXHR9XG5cbiAgXHRjbGFzcyBOaWdodHtcblx0fVxuXG4gIGNsYXNzIEhvdXJ7XG5cdH1cblxuICBjbGFzcyBXZWVre1xuXHR9XG5cbiAgY2xhc3MgVGltZUZyYW1lIHtcbiAgZXZlcnk6IGludFxuICB0b3RhbCA6IGludFxuICB9XG5cdFx0XHRcdFx0IiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0)



# References
1. Siemon's thesis: https://dspace.library.uvic.ca/handle/1828/8458

